<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Quizlet</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Dashboard CSS -->
    <link rel="stylesheet" href="../../../style/dashboard.css">
    <!-- Mode Dropdown CSS -->
    <link rel="stylesheet" href="../../../style/mode-dropdown.css">
    <!-- Test CSS -->
    <link rel="stylesheet" href="../../../style/test.css">
</head>

<body class="dashboard-body">
    <!-- Test Header -->
    <header class="test-header">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-4">
                    <div class="d-flex align-items-center gap-3">
                        <button class="btn btn-link text-white p-0">
                            <i class="bi bi-list fs-4"></i>
                        </button>
                        <div class="test-logo-section">
                            <div class="test-logo">
                                <i class="bi bi-file-text"></i>
                            </div>
                            <div class="dropdown">
                                <button class="mode-dropdown-btn" type="button" id="testModeDropdown"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <rect x="8" y="8" width="28" height="36" rx="2" fill="#3b82f6" />
                                        <rect x="12" y="14" width="20" height="4" rx="1" fill="#60a5fa" />
                                        <rect x="12" y="22" width="20" height="4" rx="1" fill="#60a5fa" />
                                        <rect x="12" y="30" width="16" height="4" rx="1" fill="#60a5fa" />
                                    </svg>
                                    <span>Test</span>
                                    <i class="bi bi-chevron-down"></i>
                                </button>
                                <ul class="mode-dropdown-menu dropdown-menu" aria-labelledby="testModeDropdown">
                                    <li><a class="mode-dropdown-item dropdown-item" href="flashcard-view.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect x="8" y="12" width="20" height="24" rx="3" fill="#3b82f6" />
                                                <rect x="20" y="8" width="20" height="24" rx="3" fill="#60a5fa" />
                                            </svg>
                                            <span>Flashcards</span>
                                        </a></li>
                                    <li><a class="mode-dropdown-item dropdown-item" href="learn.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <circle cx="24" cy="24" r="18" stroke="#3b82f6" stroke-width="2"
                                                    fill="none" stroke-dasharray="3 3" />
                                                <circle cx="18" cy="24" r="2" fill="#3b82f6" />
                                                <circle cx="30" cy="24" r="2" fill="#3b82f6" />
                                                <line x1="18" y1="24" x2="24" y2="18" stroke="#3b82f6"
                                                    stroke-width="2" />
                                                <line x1="24" y1="18" x2="30" y2="24" stroke="#3b82f6"
                                                    stroke-width="2" />
                                            </svg>
                                            <span>Learn</span>
                                        </a></li>
                                    <li><a class="mode-dropdown-item dropdown-item" href="test.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect x="8" y="8" width="28" height="36" rx="2" fill="#3b82f6" />
                                                <rect x="12" y="14" width="20" height="4" rx="1" fill="#60a5fa" />
                                                <rect x="12" y="22" width="20" height="4" rx="1" fill="#60a5fa" />
                                                <rect x="12" y="30" width="16" height="4" rx="1" fill="#60a5fa" />
                                            </svg>
                                            <span>Test</span>
                                        </a></li>
                                    <li><a class="mode-dropdown-item dropdown-item" href="blocks.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect x="6" y="6" width="12" height="12" rx="2" fill="#3b82f6" />
                                                <rect x="20" y="6" width="12" height="12" rx="2" fill="#3b82f6" />
                                                <rect x="34" y="6" width="8" height="12" rx="2" fill="#60a5fa" />
                                                <rect x="6" y="20" width="12" height="12" rx="2" fill="#3b82f6" />
                                                <rect x="20" y="20" width="12" height="12" rx="2" fill="#3b82f6" />
                                                <rect x="34" y="20" width="8" height="12" rx="2" fill="#3b82f6" />
                                                <rect x="6" y="34" width="12" height="8" rx="2" fill="#3b82f6" />
                                                <rect x="20" y="34" width="12" height="8" rx="2" fill="#3b82f6" />
                                                <rect x="34" y="34" width="8" height="8" rx="2" fill="#3b82f6" />
                                            </svg>
                                            <span>Blocks</span>
                                        </a></li>
                                    <li><a class="mode-dropdown-item dropdown-item" href="blast.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M24 6 L28 16 L38 18 L30 26 L32 36 L24 32 L16 36 L18 26 L10 18 L20 16 Z"
                                                    fill="#3b82f6" />
                                                <circle cx="24" cy="20" r="3" fill="#60a5fa" />
                                            </svg>
                                            <span>Blast</span>
                                        </a></li>
                                    <li><a class="mode-dropdown-item dropdown-item" href="match.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect x="8" y="12" width="20" height="24" rx="3" fill="#3b82f6" />
                                                <rect x="20" y="8" width="20" height="24" rx="3" fill="#60a5fa" />
                                                <line x1="12" y1="20" x2="20" y2="20" stroke="white"
                                                    stroke-width="1.5" />
                                            </svg>
                                            <span>Match</span>
                                        </a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="mode-dropdown-item dropdown-item" href="dashboard.html">
                                            <svg width="20" height="20" viewBox="0 0 48 48" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path d="M6 24 L24 8 L42 24" stroke="#3b82f6" stroke-width="2.5"
                                                    fill="none" stroke-linecap="round" stroke-linejoin="round" />
                                                <path
                                                    d="M8 24 L8 38 C8 40.2091 9.79086 42 12 42 L18 42 C20.2091 42 22 40.2091 22 38 L22 30 C22 27.7909 23.7909 26 26 26 L30 26 C32.2091 26 34 27.7909 34 30 L34 38 C34 40.2091 35.7909 42 38 42 L40 42 C42.2091 42 44 40.2091 44 38 L44 24"
                                                    stroke="#3b82f6" stroke-width="2.5" fill="none"
                                                    stroke-linecap="round" stroke-linejoin="round" />
                                            </svg>
                                            <span>Home</span>
                                        </a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="test-header-center">
                        <p class="test-score" id="testScore">0 / 2</p>
                        <p class="test-title" id="testSetTitle">biology chapter 2</p>
                    </div>
                </div>
                <div class="col-4">
                    <div class="d-flex justify-content-end align-items-center gap-2">
                        <button class="btn-print-test">Print test</button>
                        <button class="btn btn-link text-white p-1">
                            <i class="bi bi-gear fs-5"></i>
                        </button>
                        <button class="btn btn-link text-white p-1"
                            onclick="window.location.href='flashcard-view.html'">
                            <i class="bi bi-x-lg fs-5"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="test-main">
        <div class="test-questions-container" id="testQuestionsContainer">
            <!-- Questions will be dynamically generated here -->
        </div>

        <!-- Test Completion Section -->
        <div class="test-completion-section" id="testCompletionSection" style="display: none;">
            <div class="test-completion-graphic">
                <svg width="300" height="100" viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
                    <!-- Wavy line extending across -->
                    <path d="M 10 50 Q 50 30, 90 50 T 170 50 T 250 50" stroke="rgba(255, 255, 255, 0.3)"
                        stroke-width="3" fill="none" stroke-linecap="round" />
                    <!-- Light purple rounded rectangle in the middle -->
                    <rect x="130" y="30" width="40" height="40" rx="6" fill="#a78bfa" opacity="0.9" />
                    <!-- Checkmark inside the purple square -->
                    <path d="M 138 50 L 145 57 L 162 40" stroke="white" stroke-width="3" fill="none"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <!-- Pencil icon inside the purple square -->
                    <path d="M 148 57 L 148 65 L 158 65" stroke="white" stroke-width="2.5" fill="none"
                        stroke-linecap="round" />
                    <circle cx="155" cy="61" r="2" fill="white" />
                </svg>
            </div>
            <h2 class="test-completion-text">All done! Ready to submit your test?</h2>
            <button class="btn-submit-test" onclick="submitTest()">Submit test</button>
        </div>

        <!-- Test Results Section -->
        <div class="test-results-section" id="testResultsSection" style="display: none;">
            <h1 class="test-results-title">Be kind to yourself and keep practising!</h1>

            <div class="test-results-content">
                <!-- Left Section -->
                <div class="test-results-left">
                    <div class="test-time">Your time: <span id="testTimeDisplay">1 min.</span></div>

                    <!-- Progress Circle -->
                    <div class="test-progress-circle-wrapper">
                        <svg class="test-progress-circle" width="200" height="200" viewBox="0 0 200 200">
                            <circle cx="100" cy="100" r="85" fill="none" stroke="#2E3856" stroke-width="12" />
                            <circle cx="100" cy="100" r="85" fill="none" stroke="#f97316" stroke-width="12"
                                stroke-dasharray="534" stroke-dashoffset="534" id="progressCircle"
                                transform="rotate(-90 100 100)" stroke-linecap="round" />
                        </svg>
                        <div class="test-progress-percentage" id="progressPercentage">0%</div>
                    </div>

                    <!-- Correct/Incorrect Counts -->
                    <div class="test-score-badges">
                        <div class="test-score-badge test-score-correct">
                            <span class="badge-label">Correct</span>
                            <span class="badge-value" id="correctCount">0</span>
                        </div>
                        <div class="test-score-badge test-score-incorrect">
                            <span class="badge-label">Incorrect</span>
                            <span class="badge-value" id="incorrectCount">0</span>
                        </div>
                    </div>

                    <div class="test-answers-heading">Your answers</div>
                    <div class="test-answers-list" id="testAnswersList">
                        <!-- Answers will be dynamically added here -->
                    </div>
                </div>

                <!-- Right Section -->
                <div class="test-results-right">
                    <h2 class="test-next-steps-title">Next steps</h2>

                    <div class="test-next-step-card" onclick="window.location.href='learn.html'">
                        <div class="test-next-step-icon">
                            <svg width="32" height="32" viewBox="0 0 48 48" fill="none">
                                <circle cx="24" cy="24" r="18" stroke="#3b82f6" stroke-width="2" stroke-dasharray="4 4"
                                    fill="none" />
                                <circle cx="18" cy="20" r="3" fill="#1a56db" />
                                <circle cx="30" cy="20" r="3" fill="#1a56db" />
                                <line x1="18" y1="20" x2="30" y2="20" stroke="#1a56db" stroke-width="2" />
                            </svg>
                        </div>
                        <div class="test-next-step-content">
                            <h3 class="test-next-step-title">Practise terms in Learn</h3>
                            <p class="test-next-step-desc">Learn these terms in a different way to build knowledge.</p>
                        </div>
                        <i class="bi bi-chevron-right test-next-step-arrow"></i>
                    </div>

                    <div class="test-next-step-card" onclick="retestMissedTerms()">
                        <div class="test-next-step-icon">
                            <svg width="32" height="32" viewBox="0 0 48 48" fill="none">
                                <rect x="8" y="10" width="24" height="32" rx="2" fill="#1a56db" />
                                <rect x="16" y="6" width="24" height="32" rx="2" fill="#3b82f6" />
                                <line x1="12" y1="18" x2="24" y2="18" stroke="white" stroke-width="1.5" />
                                <line x1="12" y1="22" x2="24" y2="22" stroke="white" stroke-width="1.5" />
                            </svg>
                        </div>
                        <div class="test-next-step-content">
                            <h3 class="test-next-step-title">Retest using missed terms</h3>
                            <p class="test-next-step-desc">Test yourself again on the terms you got wrong.</p>
                        </div>
                        <i class="bi bi-chevron-right test-next-step-arrow"></i>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Translations JS -->
    <script src="../../../style/translations.js"></script>
    <!-- Dashboard JS -->
    <script src="../../../style/dashboard.js"></script>
    <!-- Test JS -->
    <script src="../../../style/test.js"></script>
</body>

</html>